
CREATE TABLE `nadra_info` (
  `CNIC` varchar(13) NOT NULL,
  `NAME` varchar(100) NOT NULL,
  `FATHER_NAME` varchar(100) NOT NULL,
  `GENDER` varchar(100) DEFAULT NULL,
  `DOB` date NOT NULL,
  `DOI` date NOT NULL,
  `DOE` date NOT NULL,
  `ADDRESS` varchar(100) NOT NULL,
  `NA_REGION_ID` int(11) NOT NULL,
  `PA_REGION_ID` int(11) NOT NULL,
  `DISTRICT` varchar(100) NOT NULL,
  `PROVINCE` varchar(100) NOT NULL,
  PRIMARY KEY (`CNIC`),
  KEY `nadra_info_FK` (`PA_REGION_ID`),
  KEY `nadra_info_FK_1` (`NA_REGION_ID`),
  KEY `nadra_info_FK_2` (`DISTRICT`),
  CONSTRAINT `nadra_info_FK` FOREIGN KEY (`PA_REGION_ID`) REFERENCES `pa_region` (`PA_REGION_ID`),
  CONSTRAINT `nadra_info_FK_1` FOREIGN KEY (`NA_REGION_ID`) REFERENCES `na_region` (`NA_REGION_ID`),
  CONSTRAINT `nadra_info_FK_2` FOREIGN KEY (`DISTRICT`) REFERENCES `locations` (`DISTRICT`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `locations` (
  `LOC_ID` int(11) NOT NULL AUTO_INCREMENT,
  `DISTRICT` varchar(100) NOT NULL,
  `PROVINCE` varchar(100) NOT NULL,
  PRIMARY KEY (`LOC_ID`),
  UNIQUE KEY `locations_UN` (`DISTRICT`)
) ENGINE=InnoDB AUTO_INCREMENT=136 DEFAULT CHARSET=latin1

CREATE TABLE `pa_region` (
  `PA_REGION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `REGION` int(11) NOT NULL,
  `LOC_ID` int(11) NOT NULL,
  PRIMARY KEY (`PA_REGION_ID`),
  KEY `pa_region_FK` (`LOC_ID`),
  CONSTRAINT `pa_region_FK` FOREIGN KEY (`LOC_ID`) REFERENCES `locations` (`LOC_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `na_region` (
  `NA_REGION_ID` int(11) NOT NULL AUTO_INCREMENT,
  `REGION` int(11) NOT NULL,
  `LOC_ID` int(11) NOT NULL,
  PRIMARY KEY (`NA_REGION_ID`),
  KEY `na_region_FK` (`LOC_ID`),
  CONSTRAINT `na_region_FK` FOREIGN KEY (`LOC_ID`) REFERENCES `locations` (`LOC_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `candidancy_request` (
  `CNIC` varchar(100) NOT NULL,
  `PA_REGION_ID` int(11) DEFAULT NULL,
  `NA_REGION_ID` int(11) DEFAULT NULL,
  `PARTY_ID` int(11) NOT NULL,
  PRIMARY KEY (`CNIC`),
  KEY `candidancy_request_FK` (`NA_REGION_ID`),
  KEY `candidancy_request_FK_1` (`PA_REGION_ID`),
  KEY `candidancy_request_FK_2` (`PARTY_ID`),
  CONSTRAINT `candidancy_request_FK` FOREIGN KEY (`NA_REGION_ID`) REFERENCES `na_region` (`NA_REGION_ID`),
  CONSTRAINT `candidancy_request_FK_1` FOREIGN KEY (`PA_REGION_ID`) REFERENCES `pa_region` (`PA_REGION_ID`),
  CONSTRAINT `candidancy_request_FK_2` FOREIGN KEY (`PARTY_ID`) REFERENCES `party` (`PARTY_ID`),
  CONSTRAINT `candidancy_request_FK_3` FOREIGN KEY (`CNIC`) REFERENCES `nadra_info` (`CNIC`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `approved_candidates` (
  `CNIC` varchar(100) NOT NULL,
  `PA_REGION_ID` int(11) DEFAULT NULL,
  `NA_REGION_ID` int(11) DEFAULT NULL,
  `PARTY_ID` int(11) NOT NULL,
  PRIMARY KEY (`CNIC`),
  KEY `approved_candidates_FK` (`NA_REGION_ID`),
  KEY `approved_candidates_FK_1` (`PA_REGION_ID`),
  KEY `approved_candidates_FK_3` (`PARTY_ID`),
  CONSTRAINT `approved_candidates_FK` FOREIGN KEY (`NA_REGION_ID`) REFERENCES `na_region` (`NA_REGION_ID`),
  CONSTRAINT `approved_candidates_FK_1` FOREIGN KEY (`PA_REGION_ID`) REFERENCES `pa_region` (`PA_REGION_ID`),
  CONSTRAINT `approved_candidates_FK_2` FOREIGN KEY (`CNIC`) REFERENCES `nadra_info` (`CNIC`),
  CONSTRAINT `approved_candidates_FK_3` FOREIGN KEY (`PARTY_ID`) REFERENCES `party` (`PARTY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE `party` (
  `PARTY_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PARTY_NAME` varchar(100) NOT NULL,
  PRIMARY KEY (`PARTY_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

--> CHECK IT

CREATE TABLE `voting` (
  `VOTER_CNIC` varchar(13) NOT NULL,
  `PA_CANDIDATE_CNIC` varchar(13) NOT NULL,
  `NA_CANDIDATE_CNIC` varchar(13) NOT NULL,
  PRIMARY KEY (`VOTER_CNIC`),
  KEY `voting_FK_2` (`NA_CANDIDATE_CNIC`),
  KEY `voting_FK_1` (`PA_CANDIDATE_CNIC`),
  CONSTRAINT `voting_FK` FOREIGN KEY (`VOTER_CNIC`) REFERENCES `nadra_info` (`CNIC`),
  CONSTRAINT `voting_FK_1` FOREIGN KEY (`PA_CANDIDATE_CNIC`) REFERENCES `approved_candidates` (`CNIC`),
  CONSTRAINT `voting_FK_2` FOREIGN KEY (`NA_CANDIDATE_CNIC`) REFERENCES `approved_candidates` (`CNIC`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1






